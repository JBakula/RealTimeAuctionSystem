<div class="container main-auction-container">
    <mat-card class="example-card">
        <div class="div-card">
            <mat-card-header style="text-align: center;">
                <mat-card-title-group class="div-title-group">
                    <mat-card-title>{{auction.title}}</mat-card-title>
                    <mat-card-subtitle>Poƒçetna cijena: {{auction.startingPrice}} KM</mat-card-subtitle>
                    <mat-divider></mat-divider>
                </mat-card-title-group>
            </mat-card-header>
            <img mat-card-xl-image class="myImage" *ngIf="auction.image !== null && auction.image !== ''" src="https://localhost:7273/{{auction.image}}">
            <img mat-card-xl-image class="myImage" *ngIf="auction.image === null || auction.image === ''" src="assets/noImage.png" >
            <mat-card-content class="mt-2 mb-2">
                {{auction.description}}
                <mat-divider></mat-divider>
            </mat-card-content>
            <mat-card-actions class="bid-card">
                <div class="div-date">
                    {{auction.startsAt | date: 'short'}}
                </div>
                <div class="div-date">
                    {{auction.endsIn | date: 'short'}}
                </div>
            </mat-card-actions>
            <mat-card-actions style="flex-direction: column;">
                <button mat-button color="primary" style=" width: 15rem;" (click)="openDialog()">
                    Bid
                </button>
            </mat-card-actions>

            <div *ngIf="bids.length > 1">
                <div class="highest-bid mb-4 mt-4">
                    <u>Highest bid</u> <br>
                    <b>{{ maxBid.userName }}</b> {{ maxBid.value }}
                </div>
                <h2 style="background-color: whitesmoke;">List of all bids</h2>
                <div class="table-container">
                    <table class="table table-responsive">
                        <tbody *ngFor="let bid of bids">
                          <tr>
                            <td scope="row" class="border" rowspan="2" style="text-align: left;"><b>{{ bid.bidId + ' ' + bid.userName }}</b> <br> Bid: {{ bid.value }} </td>
                          </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </mat-card>
</div>